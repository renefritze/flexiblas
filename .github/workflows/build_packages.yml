# THIS FILE IS AUTOGENERATED -- DO NOT EDIT             #
#   Edit and Re-run  .github/workflows/build_packages.py  instead #

---
name: Build packages

on:
    push:
        branches:
            - master
    pull_request:

jobs:

    jammy:
        runs-on: ubuntu-22.04
        steps:
        - uses: actions/checkout@v3
        - uses: legoktm/gh-action-build-deb@ubuntu-jammy
          with:
            args: --no-sign
        - uses: actions/upload-artifact@v3
          with:
            name: flexiblas_ubuntu-jammy
            path: output

    kinetic:
        runs-on: ubuntu-22.04
        steps:
        - uses: actions/checkout@v3
        - uses: legoktm/gh-action-build-deb@ubuntu-kinetic
          with:
            args: --no-sign
        - uses: actions/upload-artifact@v3
          with:
            name: flexiblas_ubuntu-kinetic
            path: output

    focal:
        runs-on: ubuntu-22.04
        steps:
        - uses: actions/checkout@v3
        - uses: legoktm/gh-action-build-deb@ubuntu-focal
          with:
            args: --no-sign
        - uses: actions/upload-artifact@v3
          with:
            name: flexiblas_ubuntu-focal
            path: output

    bullseye:
        runs-on: ubuntu-22.04
        steps:
        - uses: actions/checkout@v3
        - uses: legoktm/gh-action-build-deb@debian-bullseye
          with:
            args: --no-sign
        - uses: actions/upload-artifact@v3
          with:
            name: flexiblas_debian-bullseye
            path: output


    deploy:
        runs-on: ubuntu-22.04
        needs:
        - jammy
        - kinetic
        - focal
        - bullseye
        
        steps:
        - uses: actions/download-artifact@v3
          id: download
          with:
            path: output/releases/3.2.1
        - uses: actions/upload-artifact@v3
          with:
            name: flexiblas_3.2.1_debs
            path: output



# THIS FILE IS AUTOGENERATED -- DO NOT EDIT                     #
#   Edit and Re-run .github/workflows/build_packages.py instead #
